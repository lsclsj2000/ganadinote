<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="snsHomeFragment">
	<div class="page-heading mt-10">
	    <section class="section">
	        <div class="row no-gutter-x">
	            <div class="col-md-6 offset-md-3">
	                <div class="sr_walk-crew-section mb-3">
	                    <h6 class="card-title">Crew</h6>
	                    <div class="sr_walk-crew-list">
	                        <div class="sr_walk-crew-item card mb-1">
	                            <div class="sr_crew-item-content">
	                                <p class="sr_crew-title">용인 산책 크루</p>
	                                <div style="display:flex; align-items:center;">
		                            	<p class="btn btn-light rounded-pill sr_crew-dday text-danger mb-0"
		                            		style="font-size: xx-small; padding:3px 10px 3px 10px;">D-7</p>
		                                <p class="sr_crew-region mb-0 ml-1">용인시</p>
	                                </div>
	                            </div>
	                        </div>
	                        <div class="sr_walk-crew-item card mb-1">
	                            <div class="sr_crew-item-content">
	                                <p class="sr_crew-title">강남 애견 모임</p>
	                                <div style="display:flex; align-items:center;">
		                            	<p class="btn btn-light rounded-pill sr_crew-dday text-danger mb-0"
		                            		style="font-size: xx-small; padding:3px 10px 3px 10px;">D-5</p>
		                                <p class="sr_crew-region mb-0 ml-1">강남구</p>
	                                </div>
	                            </div>
	                        </div>
	                        <div class="sr_walk-crew-item card mb-1">
	                            <div class="sr_crew-item-content">
	                                <p class="sr_crew-title">용인 산책 크루</p>
	                                <div style="display:flex; align-items:center;">
		                            	<p class="btn btn-light rounded-pill sr_crew-dday text-danger mb-0"
		                            		style="font-size: xx-small; padding:3px 10px 3px 10px;">D-2</p>
		                                <p class="sr_crew-region mb-0 ml-1">용인시</p>
	                                </div>
	                            </div>
	                        </div>
	                        <div class="sr_walk-crew-item card mb-1">
	                            <div class="sr_crew-item-content">
	                                <p class="sr_crew-title">수원 산책 동호회</p>
	                                <div style="display:flex; align-items:center;">
		                            	<p class="btn btn-light rounded-pill sr_crew-dday text-danger mb-0"
		                            		style="font-size: xx-small; padding:3px 10px 3px 10px;">D-1</p>
		                                <p class="sr_crew-region mb-0 ml-1">수원시</p>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                
	                <div class="sr_feed-list">
						<h6 class="card-title">Post</h6>
					
						<div class="card sr_feed-item mb-3" th:each="p : ${homePosts}">
					  		<div class="card-body p-0">
					    		<!-- 헤더 -->
								<div class="sr_feed-header d-flex align-items-center mb-1 mt-1" style="justify-content:space-between;">
									<div style="display:flex; align-items:center;">
										<div class="avatar avatar-md me-3">
											<img th:src="${p.profilePath != null} ? @{${p.profilePath}} : @{/assets/images/samples/dogdefault.png}"
											     alt="게시자 프로필">
										</div>
										<div class="sr_feed-user-name">
					  						<p class="mb-0" style="font-size: small;font-weight: bolder;" th:text="${p.nickname}">닉네임</p>
											<p class="mb-0" style="font-size: xx-small;" th:text="${#temporals.format(p.spRegYmdt, 'M월 d일')}">8월 20일</p>
											<!-- 필요하면 핸들 표시
											<p class="mb-0" style="font-size: xx-small;" th:text="${p.handle}">@id</p> -->
					    				</div>
					  				</div>
					  				<a href="" class="tab-item active">
					    				<svg class="bi" width="24" height="24" fill="currentColor">
					      					<use xlink:href="/assets/vendors/bootstrap-icons/bootstrap-icons.svg#three-dots-vertical"></use>
					    				</svg>
					  				</a>
								</div>
					
								<!-- 이미지: 여러 장이면 캐러셀 -->
								<div th:if="${p.imagePaths != null and #lists.size(p.imagePaths) > 1}"
								     th:with="cid=${'carousel_' + p.spCd}">
									<div class="carousel slide" data-bs-ride="carousel"
									     th:attr="id=${cid}">
								    	<!-- indicators -->
										<ol class="carousel-indicators">
											<li th:each="img,iter : ${p.imagePaths}"
											    th:attr="data-bs-target=${'#' + cid}, data-bs-slide-to=${iter.index}"
											    th:classappend="${iter.index == 0} ? 'active'"></li>
										</ol>
								
										<!-- slides -->
										<div class="carousel-inner" style="border-radius:0px;">
											<div class="sr_feed-img carousel-item mb-3"
											     th:each="img,iter : ${p.imagePaths}"
											     th:classappend="${iter.index == 0} ? ' active'">
												<img th:src="@{${img}}" class="d-block w-100" alt="게시자 이미지">
											</div>
										</div>
								
										<!-- controls -->
										<a class="carousel-control-prev" th:href="${'#' + cid}" role="button" data-bs-slide="prev">
											<span class="carousel-control-prev-icon" aria-hidden="true"></span>
											<span class="visually-hidden">Previous</span>
										</a>
										<a class="carousel-control-next" th:href="${'#' + cid}" role="button" data-bs-slide="next">
											<span class="carousel-control-next-icon" aria-hidden="true"></span>
											<span class="visually-hidden">Next</span>
										</a>
									</div>
								</div>
								
								<!-- 이미지: 한 장이면 단일 이미지 -->
								<div class="sr_feed-img mb-3"
								     th:if="${p.imagePaths != null and #lists.size(p.imagePaths) == 1}">
									<img th:src="@{${p.imagePaths[0]}}" class="d-block w-100" alt="게시물 이미지">
								</div>
					
								<!-- 좋아요 버튼 (UI만) -->
								<div class="sr_feed-actions d-flex align-items-center mb-2">
					  				<i class="bi bi-heart text-danger"></i>
								</div>
					
								<!-- 태그: 공백 제거 후 콤마 기준으로 split, # 붙여 출력 -->
								<div class="sr_feed-content"
								 	 th:with="raw=${p.spCn != null ? p.spCn.replaceAll('\\s+','') : ''}">
									<span class="badge bg-light-secondary mr-2" style="font-size:.65em; margin-right:5px;"
										  th:each="t : ${raw.split(',')}"
								          th:if="${t != null and !#strings.isEmpty(t)}"
								          th:text="${'#' + t}">#tag</span>
								</div>
					    	</div>
					  	</div>
					</div>
	
	                <div class="sr_feed-list">
	                	<h6 class="card-title">Post</h6>
	                    <div class="card sr_feed-item mb-3">
						    <div class="card-body p-0">
						    	<div class="sr_feed-header d-flex align-items-center mb-1 mt-1" style="justify-content:space-between;">
	                            	<div style="display:flex; align-items:center;">
		                                <div class="avatar avatar-md me-3">
		                                    <img src="https://newsimg-hams.hankookilbo.com/2024/06/25/9b490f29-4415-43bb-bdf8-b77c3ca67413.jpg" alt="게시자 프로필">
		                                </div>
		                                <div class="sr_feed-user-name">
		                                    <p class="mb-0" style="font-size: small;font-weight: bolder;">멈무</p>
		                                    <p class="mb-0" style="font-size: xx-small;">8월 5일</p>
		                                </div>
		                        	</div>
	                                <a href="" class="tab-item active">
		                                <svg class="bi" width="24" height="24" fill="currentColor">
							                <use xlink:href="/assets/vendors/bootstrap-icons/bootstrap-icons.svg#three-dots-vertical"></use>
							            </svg>
						            </a>
	                            </div>
	                            
						        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
						            <ol class="carousel-indicators">
						                <li data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0"
						                    class="active"></li>
						                <li data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"></li>
						            </ol>
						            <div class="carousel-inner" style="border-radius:0px;">
						                <div class="sr_feed-img carousel-item active mb-3">
						                    <img src="https://newsimg-hams.hankookilbo.com/2024/06/25/9b490f29-4415-43bb-bdf8-b77c3ca67413.jpg" class="d-block w-100" alt="게시자 이미지">
						                </div>
						                <div class="sr_feed-img carousel-item mb-3">
						                    <img src="https://img2.daumcdn.net/thumb/R658x0.q70/?fname=https://t1.daumcdn.net/news/202507/21/newsay/20250721120005530oqsr.png" class="d-block w-100" alt="게시자 이미지">
						                </div>
						            </div>
						            <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button"
						                data-bs-slide="prev">
						                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
						                <span class="visually-hidden">Previous</span>
						            </a>
						            <a class="carousel-control-next" href="#carouselExampleCaptions" role="button"
						                data-bs-slide="next">
						                <span class="carousel-control-next-icon" aria-hidden="true"></span>
						                <span class="visually-hidden">Next</span>
						            </a>
						        </div>
						        
						        <div class="sr_feed-actions d-flex align-items-center mb-2">
	                                <i class="bi bi-heart text-danger"></i>
	                            </div>
	                            <div class="sr_feed-content">
	                                <span class="badge bg-light-secondary" style="font-size: .65em;">#졸려</span>
	                                <span class="badge bg-light-secondary" style="font-size: .65em;">#안할래</span>
	                            	<span class="badge bg-light-secondary" style="font-size: .65em;">#그만할래</span>
	                            	<span class="badge bg-light-secondary" style="font-size: .65em;">#집갈래</span>
	                            </div>
						    </div>
						</div>
	                </div>
	            </div>
	        </div>
	    </section>
	</div>
</div>
</html>